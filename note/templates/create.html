<form>
  <textarea
    hx-post="/notes"
    hx-swap="afterbegin"
    hx-target="#notes"
    autofocus
    class="note-sized"
    id="create_note"
    name="content"
    placeholder="Start a new note..."
  >
  </textarea>
</form>




<script>
  function resizeTextarea(event) {
      this.style.height = '24px';
      this.style.height = this.scrollHeight + 12 + 'px';
  }

  function handleAfterRequest(event) {
    input.value = "";
  }

  var input = document.querySelector('#create_note');
  input.addEventListener('input', resizeTextarea );
  input.addEventListener('htmx:afterRequest', handleAfterRequest );
</script>